{
  "hash": "b07720cfc83c5fe2bc8921e8c15a9c66",
  "result": {
    "markdown": "---\ntitle: 'Week 4: Prison Data'\ndate: '2019-01-22'\ncategories:\n  - TidyTuesday\n  - 2019\nimage: featured.png\ndraft: false\nnumber-sections: false\nformat:\n  html:\n    fig-cap-location: bottom\nresources: \n  - \"featured.png\"\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load the packages\nlibrary(readr)\nlibrary(tidyverse)\nlibrary(magrittr)\nlibrary(gganimate)\nlibrary(ggthemr)\n\n# load the theme\nggthemr(\"flat dark\")\n\n# load the data\npretrial_summary <- read_csv(\"pretrial_summary.csv\")\n\nprison_summary <- read_csv(\"prison_summary.csv\")\n\nincarceration_trends<-read_csv(\"incarceration_trends.csv\")\n```\n:::\n\n\nTidyTuesday Week 4 of 2019 is focused on prison data. You can find the data\n[here](https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-01-22).\nThere are 5 csv files, clearly 2 files are a summary of the main data, which are Prison Summary \nand Pretrial Summary.\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n{{% tweet \"1087702502240407552\" %}}\n```\n:::\n:::\n\n\n\nI have mainly focused on these two data-sets here. Further in order of curiosity I did take a \npeak at a main data file, which is incarceration_trends.csv. \n\n# Prison Summary\n\nPrison summary data-set has 4 variables. The year of records begin from 1983 and ends in 2015. \nThe unit of incarceration in is Rate per 100,000. Considering the population categories there \nare clearly 4 sub groups. Each of these sub groups have been plotted here. Further the variable\n'urbanicity' is simply grouping the observations according to the developed status. Such as\nrural, small/mid, suburban and urban.\n\n## Prison Summary With Gender\n\nThe population increase has an effect on it according to the below plot. Urban area has an \nincrease in these prisoners over the years but after mid 1990 there is a decline. This is \ntrue for males. Next considering the suburban area this is quite similar as before,\nonly difference is that the decline begins in year 2005. \n\nConsidering rural area there is a clear increase of prisoners for both genders in the years.\nThere is an anomaly in year 1986 with alot of prisoners for males. Both rural and small/mid\nareas behave similarly for both genders as the increase rate gets somewhat slower after 2010.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsubset(prison_summary,pop_category==\"Male\" | pop_category==\"Female\") %>%\nggplot(.,aes(x=year,y=rate_per_100000,fill=pop_category))+\n  facet_wrap(~urbanicity)+geom_area()+\n  transition_reveal(year)+ labs(fill=\"Gender\")+\n  scale_x_continuous(breaks=c(1983:2015),labels=c(1983:2015))+\n  theme(axis.text.x = element_text(angle = 90),legend.position = \"bottom\")+\n  scale_y_continuous(breaks = seq(0,1750,250),labels=seq(0,1750,250))+\n  xlab(\"Year\")+ylab(\"Rate per 100,000\")+\n  ggtitle(\"Gender change over the years from 1983-2015\")\n```\n:::\n\n\n## Prison Summary with Ethnicity\n\n5 ethnicity types are considered here which are Asian, Black, Latino, White\nand Native American. From 1980 only we can see the active prisoners of \nLatino and Native American ethnicity. Over the years we can the increase of\nprisoners for African American Community. The increase is very high considering \nthe other ethnicity types. \n\nAsian ethnicity people have prisoners but it is only negligible considering the \nother ethnicity types. Except the suburban area others have an increase rate until 2005 \nand there is a decline followed in the next years. This is not the case for suburban area. \nHere less change after year 2000 and the decline begins only in year 2010.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsubset(prison_summary,pop_category == \"Asian\" | pop_category==\"Black\" |\n                      pop_category == \"Latino\" |pop_category==\"White\" |\n                      pop_category == \"Native American\" ) %>%\nggplot(.,aes(x=year,y=rate_per_100000,fill=pop_category))+\n  facet_wrap(~urbanicity)+geom_area()+\n  transition_reveal(year)+ labs(fill=\"Ethnicity\")+\n  scale_x_continuous(breaks=c(1983:2015),labels=c(1983:2015))+\n  theme(axis.text.x = element_text(angle = 90),legend.position = \"bottom\")+\n  scale_y_continuous(breaks = seq(0,5250,250),labels=seq(0,5250,250))+\n  xlab(\"Year\")+ylab(\"Rate per 100,000\")+\n  ggtitle(\"Ethnicity change over the years from 1983-2015\")\n```\n:::\n\n\n## Prison Summary with Other and Total\n\nThe Other category is no longer active since 1989, but before that we can see different\nanomalies in all four areas. Clearly urban area has more prisoners and final place\ngoes to suburban according to the below area plot. \n\nRural area has an increase in prisoners over the years and there is no decline. This is \nnot the case for small/mid and suburban areas. Urban areas has a sudden decline in between\nyear 1995 to 2000 and again there is a steep decline after year 2005.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsubset(prison_summary,pop_category == \"Other\" | pop_category==\"Total\") %>%\nggplot(.,aes(x=year,y=rate_per_100000,fill=pop_category))+\n    facet_wrap(~urbanicity)+geom_area()+\n    transition_reveal(year)+ labs(fill=\"Category\")+\n    scale_x_continuous(breaks=c(1983:2015),labels=c(1983:2015))+\n    theme(axis.text.x = element_text(angle = 90),legend.position = \"bottom\")+\n    scale_y_continuous(breaks = seq(0,1000,100),labels=seq(0,1000,100))+\n    xlab(\"Year\")+ylab(\"Rate per 100,000\")+\n    ggtitle(\"Total and Other category change over the years from 1983-2015\")\n```\n:::\n\n\n# Pretrial Summary with Gender and Total\n\nYear 1970 to 2015 is the range of time considered here and the genders male and \nfemale are considered with the total. The data-set is for Pretrial prisoners. \nThere is sudden increase after mid 1980s to all the areas. This sudden increase \noccurs to both genders and the total as well. \n\nHere, also we can see an odd behavior for urban area in the entire time range \nwith sudden steeps and peaks. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(pretrial_summary,aes(x=year,y=rate_per_100000,fill=pop_category))+\n      geom_area()+facet_wrap(~urbanicity)+\n      transition_reveal(year)+ labs(fill=\"Category\")+\n      scale_x_continuous(breaks=c(1970:2015),labels=c(1970:2015))+\n      theme(axis.text.x = element_text(angle = 90),legend.position = \"bottom\")+\n      scale_y_continuous(breaks = seq(0,800,50),labels=seq(0,800,50))+\n      xlab(\"Year\")+ylab(\"Rate per 100,000\")+\n      ggtitle(\"Total and Gender category change over the years from 1970-2015\")\n```\n:::\n\n\n# Complete Data of Incarceration Trends\n\nThis data-set has all the necessary information related to Incarceration. Further,\nit includes data for 11 different crime types. Rather than exploring all the crimes\nI have explored only one crime here, which is Rape. \n\nThe are four areas in concern are rural, suburban, mid/small and urban.  51 states and \n4 regions are considered to see the diversity of these prisoners. We have dropped \nthe years from 1970 to 1976, 2015 and 2016 because they had no data. Even the years\n1979 and 1993 has missing data but still I am including this in the plot. \n\n## Rape Crimes over the Years in States of Rural Area\n\nI developed these plots to understand a pattern in state wise or region wise, \napparently its very difficult but still I am keeping these plots here. Well,\nfrankly I think there could be some other better way to visualize the above \nselective data.\n\n\n::: {.cell fig.length='14'}\n\n```{.r .cell-code}\np1<-subset(incarceration_trends,year!=\"1970\" & year!=\"1971\" & year!=\"1972\" &\n                            year!=\"1973\" & year!=\"1974\" & year!=\"1975\" &\n                            year!=\"1976\" & year!=\"2015\" & year!=\"2016\" &\n                            urbanicity == \"rural\",\n       select = c(\"year\",\"state\",\"rape_crime\",\"urbanicity\",\"region\")) %>%\nggplot(.,aes(x=factor(state),y=rape_crime,color=region))+\n      geom_jitter(width = 0.1)+transition_time(year)+\n      coord_flip()+ \n      ylab(\"Rape Crime\")+xlab(\"State\")+\n      theme(legend.position = \"bottom\")+\n      labs(title=\"Rape Crime for Rural Areas on the Year : {round(frame_time)}\")\n\nanimate(p1,fps=1,duration=38)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/All Data Rape Crime but rural-1.gif)\n:::\n:::\n\n\n## Rape Crimes over the Years in States of Small or Mid Area\n\n\n::: {.cell fig.length='14'}\n\n```{.r .cell-code}\np2<-subset(incarceration_trends,year!=\"1970\" & year!=\"1971\" & year!=\"1972\" &\n                            year!=\"1973\" & year!=\"1974\" & year!=\"1975\" &\n                            year!=\"1976\" & year!=\"2015\" & year!=\"2016\" &\n                            urbanicity == \"small/mid\",\n       select = c(\"year\",\"state\",\"rape_crime\",\"urbanicity\",\"region\")) %>%\nggplot(.,aes(x=factor(state),y=rape_crime,color=region))+\n      geom_jitter(width = 0.1)+transition_time(year)+\n      coord_flip()+ \n      ylab(\"Rape Crime\")+xlab(\"State\")+\n      theme(legend.position = \"bottom\")+\n      labs(title=\"Rape Crime for Small or Mid Areas on the Year: {round(frame_time)}\")\n\nanimate(p2,fps=1,duration=38)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/All Data Rape Crime but small or mid-1.gif)\n:::\n:::\n\n\n\n## Rape Crimes over the Years in States of Suburban Area\n\n\n::: {.cell fig.length='14'}\n\n```{.r .cell-code}\np3<-subset(incarceration_trends,year!=\"1970\" & year!=\"1971\" & year!=\"1972\" &\n                            year!=\"1973\" & year!=\"1974\" & year!=\"1975\" &\n                            year!=\"1976\" & year!=\"2015\" & year!=\"2016\" &\n                            urbanicity == \"suburban\",\n       select = c(\"year\",\"state\",\"rape_crime\",\"urbanicity\",\"region\")) %>%\nggplot(.,aes(x=factor(state),y=rape_crime,color=region))+\n      geom_jitter(width = 0.1)+transition_time(year)+\n      coord_flip()+ \n      ylab(\"Rape Crime\")+xlab(\"State\")+\n      theme(legend.position = \"bottom\")+\n      labs(title=\"Rape Crime for Suburban Areas on the Year: {round(frame_time)}\")\n\nanimate(p3,fps=1,duration=38)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/All Data Rape Crime but suburban-1.gif)\n:::\n:::\n\n\n## Rape Crimes over the Years in States of Urban Area\n\n\n::: {.cell fig.length='14'}\n\n```{.r .cell-code}\np4<-subset(incarceration_trends,year!=\"1970\" & year!=\"1971\" & year!=\"1972\" &\n                            year!=\"1973\" & year!=\"1974\" & year!=\"1975\" &\n                            year!=\"1976\" & year!=\"2015\" & year!=\"2016\" &\n                            urbanicity == \"urban\",\n       select = c(\"year\",\"state\",\"rape_crime\",\"urbanicity\",\"region\")) %>%\nggplot(.,aes(x=factor(state),y=rape_crime,color=region))+\n      geom_jitter(width = 0.1)+transition_time(year)+\n      coord_flip()+ \n      ylab(\"Rape Crime\")+xlab(\"State\")+\n      theme(legend.position = \"bottom\")+\n      labs(title=\"Rape Crime for Urban Areas on the Year: {round(frame_time)}\")\n\nanimate(p4,fps=1,duration=38)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/All Data Rape Crime but Urban-1.gif)\n:::\n:::\n\n\n*THANK YOU*\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}