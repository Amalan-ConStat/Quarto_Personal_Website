{
  "hash": "cf88e2604d450effc8ecb855fbda8424",
  "result": {
    "markdown": "---\ntitle: 'Week 8 : Phds Awarded in USA between 2008 and 2017'\ndate: '2019-02-19'\ncategories:\n  - TidyTuesday\n  - 2019\nimage: featured.png\ndraft: false\nnumber-sections: false\nformat:\n  html:\n    fig-cap-location: bottom\nresources: \n  - \"featured.png\"\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load the packages\nlibrary(tidyverse)\nlibrary(ggthemr)\nlibrary(readr)\nlibrary(gganimate)\nlibrary(ggridges)\nlibrary(ggalluvial)\n\nggthemr(\"flat\")\n\n#load the data\nphdlist <- read_csv(\"phd_by_field.csv\")\n```\n:::\n\n\nFive variables are representing this entire data-set and three of them are factors while \none column represents the year and the final column is for counts. There are few missing values.\nWe can focus on Phds awarded from 2008 to 2017 in perspective of Broad Field, Major Field and \nField.\n\n[Dataset](https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-02-19)\n\n[GitHub Code](https://github.com/Amalan-ConStat/TidyTuesday/tree/master/2019/Week8)\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n{{% tweet \"1097868689385418752\" %}}\n```\n:::\n:::\n\n\nBroad Field and Major Field are considered specially but not the column Field as \nit would be difficult to plot based on the amount of categories.\n\n# Broad Field \n\nBroad field has 7 categories and clearly Psychology and social sciences has produced\nmore than 4000 Phds each and every year. Which is twice comparing to other categories.\nIf we drop Psychology and Social sciences, now the changes over the years for other\ncategories are clear. \n\nThere are more outliers in the field of Life sciences where some programs produce \nmore than 1000 Phds each year comparatively to the rest categories. Except Life\nsciences other categories tend to behave rarely as above producing more than 1000 Phds.\n\nEngineering field has the lowest distribution with relative to other categories according \nto the box plot in every year.\n\n## All fields\n\n\n::: {.cell}\n\n```{.r .cell-code}\np<-ggplot(phdlist,aes(x=str_wrap(broad_field,20),y=n_phds))+\n          geom_boxplot()+\n          xlab(\"Broad Field\")+ylab(\"No of Phds\")+\n          transition_time(year)+ease_aes(\"linear\")+\n          ggtitle(\"Boxplot to Number of Phds in Broad Field\",\n              subtitle = \"Year : {round(frame_time)}\")+\n          theme(axis.text.x = element_text(hjust=1,angle = 90))\n\nanimate(p,nframes=9,fps=1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Broad field boxplot-1.gif)\n:::\n:::\n\n\n## Dropping Psychology and Social Sciences\n\n\n::: {.cell}\n\n```{.r .cell-code}\np<-ggplot(subset(phdlist,broad_field != \"Psychology and social sciences\"),\n          aes(x=str_wrap(broad_field,20),y=n_phds))+\n          geom_boxplot()+\n          xlab(\"Broad Field\")+ylab(\"No of Phds\")+\n          transition_time(year)+ease_aes(\"linear\")+\n          ggtitle(\"Boxplot to Number of Phds in Broad Field\",\n              subtitle = \"Year : {round(frame_time)}\")+\n          theme(axis.text.x = element_text(hjust=1,angle = 90))\n\nanimate(p,nframes=9,fps=1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Broad field boxplot without psy and soc sciences-1.gif)\n:::\n:::\n\n\n\n# Major Field\n\nFocus now solely switches towards the Major Field column and here also we can see the strong \noutlier in Psychology over the years. Further, Physics and Astronomy field also has a very\nstrong outlier where over the years it reaches 2000 Phds.\n\nWithout dropping Psychology  we can see the odd behavior from the fields \"Education Research\",\n\"Economics\" and \"Computer and Information Sciences\". Specially the gradual decrease of \n\"Education Research\" from 2008 to 2017.\n\nAlso in \"Computer and Information Sciences\" field there is an odd increase in 2012. \n\nAfter dropping the \"Psychology\" field we can now clearly see how other Major fields behave\nover the years.\n\n## Major Fields with Box plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\np<-ggplot(phdlist,aes(x=str_wrap(major_field,20),y=n_phds,fill=broad_field))+\n          geom_boxplot()+coord_flip()+\n          xlab(\"Major Field\")+ylab(\"No of Phds\")+\n          transition_time(year)+ease_aes(\"linear\")+\n          ggtitle(\"Boxplot to Number of Phds in Major Field\",\n              subtitle = \"Year : {round(frame_time)}\")+\n          theme(axis.text.x = element_text(hjust=1,angle = 90),\n                legend.position = \"bottom\")+\n          labs(fill=\"Broad Field\")\n\nanimate(p,nframes=9,fps=1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/major field boxplot-1.gif)\n:::\n:::\n\n\n## Major Fields without Psychology but still in a Boxplot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq<-ggplot(subset(phdlist,major_field != \"Psychology\"),\n          aes(x=str_wrap(major_field,20),y=n_phds,fill=broad_field))+\n          geom_boxplot()+coord_flip()+\n          xlab(\"Major Field\")+ylab(\"No of Phds\")+\n          transition_time(year)+ease_aes(\"linear\")+\n          ggtitle(\"Boxplot to Number of Phds in Major Field\",\n              subtitle = \"Year : {round(frame_time)}\")+\n          theme(axis.text.x = element_text(hjust=1,angle = 90),\n                legend.position = \"bottom\")+\n          labs(fill=\"Broad Field\")\n\nanimate(q,nframes=9,fps=1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Major field without psy-1.gif)\n:::\n:::\n\n\n\n# Mathematics and Computer Sciences\n\nI am a Statistics student with a glimpse of Computer science background, therefore my\nnext intention is to focus on the Broad Field \"Mathematics and Compute Sciences\". \n\n## Mathematics and Computer Science as a Broad field\n\nMathematics and Statistics has a gradual increase until 2012, but wavers higher and lower \nin the next years, but in 2016 there is a sudden increase of which would lead to around 700 \nPhds awarded. Next year this decreases to 500 Phds. \n\nComparing the 2 major fields \"Computer and Information Sciences\" with \"Mathematics and Statistics\"\nindicate the strong gap between them awarding Phds. \"Computer and Information Sciences\" award \nmore than twice the amount of Phds what \"Mathematics and Statistics\" award each year.\n\n\"Computer and Information Sciences\" also hold a clear pattern with the Phds awarded.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsubset(phdlist,broad_field == \"Mathematics and computer sciences\") %>%\n      \nggplot(.,aes(x=factor(year),y=n_phds,fill=major_field))+\n       geom_bar(stat=\"identity\",position = \"dodge\")+\n       theme(legend.position = \"bottom\")+\n       xlab(\"Major Field\")+ylab(\"Number of Phds\")+\n       ggtitle(\"Number of Phds awarded under Mathematics and CS\",\n               subtitle = \"Year : 2008 to 2017\")+\n      scale_y_continuous(breaks=seq(0,1700,100),labels=seq(0,1700,100))+\n          labs(fill=\"Major Field\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/mathematics and cs bar chart-1.png){width=1152}\n:::\n:::\n\n\n\n## Mathematics and Computer Science as a Major Field\n\nBox plot indicates the clear variation among these two major fields over years which \ncould be used for comparison. The sudden peak in year 2012 for \"Computer and Information Sciences\"\ninterests me alot. It should be noted that \"Mathematics and Statistics\" has more outliers \nthan \"Computer and Information Sciences\".\n\n\n::: {.cell}\n\n```{.r .cell-code}\np<-ggplot(subset(phdlist,broad_field == \"Mathematics and computer sciences\"),\n          aes(x=str_wrap(major_field,20),y=n_phds))+\n          geom_boxplot()+\n          xlab(\"Major Field\")+ylab(\"No of Phds\")+\n          transition_time(year)+ease_aes(\"linear\")+\n          ggtitle(\"Boxplot to Number of Phds in Major Field\",\n              subtitle = \"Year : {round(frame_time)}\")\n\nanimate(p,nframes=9,fps=1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/major field boxplot with maths and cs-1.gif)\n:::\n:::\n\n\nBelow is a ridge plot to describe the same thing which would clearly indicate the data spread.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(subset(phdlist,broad_field == \"Mathematics and computer sciences\"),\n          aes(y=str_wrap(major_field,20),x=n_phds))+\n          geom_density_ridges()+\n          xlab(\"No of Phds\")+ ylab(\"Major Field\")+\n          theme(legend.position = \"bottom\")+\n          ggtitle(\"Ridge plot for Major Fields in Mathematics and Computer Sciences\",\n                  subtitle = \"Year : 2008 to 2017\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/ridge major fields-1.png){width=1152}\n:::\n:::\n\n\n## Major Field of Mathematics and Computer Science but now all Fields\n\nConsidering the sub categories of the chosen broad field in a box plot did not\nwork quite well, but clearly this plot indicates the Computer Science Phds being \nawarded with highest amount over the years. Would that mean the boom of Artificial Intelligence in\nComputer Science.\n\n\n::: {.cell}\n\n```{.r .cell-code}\np<-ggplot(subset(phdlist,broad_field == \"Mathematics and computer sciences\"),\n          aes(x=str_wrap(field,20),y=n_phds,fill=major_field))+\n          geom_boxplot()+coord_flip()+\n          xlab(\"Field\")+ylab(\"No of Phds\")+\n          transition_time(year)+ease_aes(\"linear\")+\n          ggtitle(\"Boxplot to Number of Phds in Field\",\n              subtitle = \"Year : {round(frame_time)}\")+\n          theme(legend.position = \"bottom\")+\n          labs(fill=\"Major Field\")\n\nanimate(p,nframes=9,fps=1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/field boxplot with maths and cs-1.gif)\n:::\n:::\n\n\nTo get a clear view here is the ridge plot, where Computer Science is very strong for \n\"Computer and Information Sciences\". It should be noted though there is only three other \nfields in this major field which are \"Information Science systems\", \n\"Computer and Information Sciences, other\" and \"Computer and Information sciences, general\".\n\nMore than 10 fields for the Major field \"Mathematics and Statistics\", where higher counts \noccur to \"Statistics(Mathematics)\", \"Applied mathematics\" and \"Mathematics and Statistics,general\".\nStill non of these fields have passed the 1000 Phds awarded mark.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(subset(phdlist,broad_field == \"Mathematics and computer sciences\"),\n          aes(y=str_wrap(field,20),x=n_phds,fill=major_field))+\n          geom_density_ridges()+\n          xlab(\"No of Phds\")+ ylab(\"Field\")+\n          theme(legend.position = \"bottom\")+\n          ggtitle(\"Ridge plot for Fields in Mathematics and Computer Sciences\",\n                  subtitle = \"Year : 2008 to 2017\")+\n          labs(fill=\"Major Field\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/ridge plot fields-1.png){width=1152}\n:::\n:::\n\n\n# Major Field, Field and Year For Mathematics and Computer Sciences\n\nFinally an alluvial diagram just to look at the impact of Computer science field with \nrespective to each year, which is very strong.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata.frame(subset(phdlist,broad_field==\"Mathematics and computer sciences\")) %>%\n           na.omit() %>%\nggplot(.,aes(axis2=factor(str_wrap(year,10)), axis1= factor(str_wrap(major_field,10)), \n             axis3= factor(field), y=as.numeric(n_phds)))+\n       scale_x_discrete(limits=c(\"Major Field\",\"Year\",\"Field\"),expand = c(.05, .05))+\n       geom_alluvium(aes(fill=factor(major_field)),width = 1/2)+\n       geom_stratum(width=1/2,fill=\"white\",color=\"grey\")+\n       geom_text(stat = \"stratum\", label.strata = TRUE)+\n       theme(legend.position = \"bottom\")+ylab(\"No of Phds\")+\n       ggtitle(\"Major Field and Fields For Years 2008 to 2017\",\n               subtitle=\"Mathematics and Computer Science\")+\n          labs(fill=\"Major Field\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/broad and major and field-1.png){width=1152}\n:::\n:::\n\n\n*THANK YOU*\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}