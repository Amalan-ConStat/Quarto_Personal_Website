{
  "hash": "48bf842dce8e6bee3d3b9150142d069d",
  "result": {
    "markdown": "---\ntitle: 'Week 7: Spending On Science Stuff'\ndate: '2019-02-11'\ncategories:\n  - TidyTuesday\n  - 2019\nimage: featured.png\ndraft: false\nnumber-sections: false\nformat:\n  html:\n    fig-cap-location: bottom\nresources: \n  - \"featured.png\"\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load the packages \nlibrary(readr)\nlibrary(tidyverse)\nlibrary(gganimate)\nlibrary(dplyr)\nlibrary(magrittr)\n\n# load the data\nclimate <- read_csv(\"climate_spending.csv\")\n\nenergy <- read_csv(\"energy_spending.csv\", \n                    col_types = cols(year = col_integer()))\n\nfederal <- read_csv(\"fed_r_d_spending.csv\")\n```\n:::\n\n\nEven though I can go further and do an investigative plotting from the \nrest data it is not done here. I was more focused on the scientific \nnotation values in the plotting and scales, which were bothering me\na lot.\n\n3 Data sets are given here, they are \n\n1. Global Climate Change Research Program Spending. - climate\n2. Energy Departments Data. - energy\n3. Total Federal R & D Spending by Department. - federal\n\nOddly though climate data-set did not have year values, I checked the downloaded\ncsv file and the GitHub upload as well. Well, that did not stop me from doing \nsome tidy plotting.\n\nYou can obtain the data from [here.](https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-02-12)\nIt should be noted that I am not going to rename the abbreviation of departments\nwith their full names, so below is a screen shot which would come in handy.\n\n![Department Full Names with Abbreviations](department.jpg)\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n{{% tweet \"1095152521507733505\" %}}\n```\n:::\n:::\n\n\n[GitHub Code](https://github.com/Amalan-ConStat/TidyTuesday/tree/master/2019/Week7)\n\n# Climate Change Research \n\nAs I mentioned earlier for the climate data there are no values in the year column, but according to \nsummary I was able to deduce that we have 18 years of information. When we do plot it is going\nto be the summation for each department in a bar. \n\nClearly NASA has the most amount ( above than 2.5 x 10^10 USD) of spending because rockets are expensive, \nsecond place goes to NSF (5 x 10^9 USD) and third place to NOAA. Lowest amount of spending is to the \nDepartment of Interior (8.47 x 10^8 USD).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(climate,aes(x=fct_inorder(department),y=gcc_spending,fill=department))+\n  geom_bar(stat=\"identity\",show.legend = FALSE)+\n  ggtitle(\"Total GCC Spending for 18 Years\")+\n  scale_y_continuous(labels = scales::scientific,breaks = seq(0,2.75e+10,0.25e+10))+\n  xlab(\"Sub Agency / Department\")+ylab(\"GCC Spending (in USD)\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Global Climate change Research-1.png){width=960}\n:::\n:::\n\n\n# Energy \n\nSince 1997 to 2018 how Energy Department funding has changed with sub agency/ department is the purpose\nof the below bar plot. Office of Science R & D and Atomic Energy Defense are competitive over the years \nand for a short period of time the latter has less funding than the former, this was between 2006 to 2010.\n\nOther agencies oscillates over the years while reaching new highs and lows. \n\n\n::: {.cell}\n\n```{.r .cell-code}\np<-ggplot(energy,aes(x=department,y=energy_spending,fill=year))+\n          geom_bar(stat=\"identity\",position =\"identity\")+\n          transition_time(year)+\n          geom_text(aes(label=scales::scientific(energy_spending)),\n                    vjust = \"inward\", hjust = \"inward\")+\n          ease_aes(\"linear\")+coord_flip()+\n          ylab(\"Energy Spending (in USD)\")+\n          theme(legend.position = \"right\")+\n          xlab(\"Sub Agency / Department\")+\n          scale_fill_continuous(breaks = seq(1997,2018,3))+\n          scale_y_continuous(labels = scales::scientific)+\n          ggtitle(\"Energy Spending Of Year : {frame_time}\")\n\nanimate(p,fps=1,nframes=22)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Energy Funding-1.gif)\n:::\n:::\n\n\n# Federal\n\nData of Federal funding has four different types to be compared and they are mentioned below\nin the description image which would make explanation more easier.\n\n![](description.jpg)\n\n\nExcept rd_budget others have a very clear increase in amount between 1976 to 2018. Further,\nall four plots have different scales and the limits are widely different for each plot.\n\n\n::: {.cell}\n\n```{.r .cell-code}\np<-federal %>%\n    gather(funding,amount,c(rd_budget,total_outlays,discretionary_outlays,gdp)) %>%\n    ggplot(.,aes(x=factor(department),y=amount,color=year))+\n           geom_jitter()+transition_time(year)+\n           ease_aes(\"linear\")+coord_flip()+\n           shadow_mark()+\n           theme(legend.position = \"right\")+\n           ylab(\"Spending in USD\")+xlab(\"Department\")+\n           ggtitle(\"Total Federal R&D for Year : {frame_time}\")+\n           scale_color_continuous(breaks = seq(1976,2018,6),labels=seq(1976,2018,6))+\n           scale_y_continuous(labels = scales::scientific)+\n           facet_wrap(~funding,scales = \"free\")\n\nanimate(p,fps=1,nframes=42)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Federal Funding-1.gif)\n:::\n:::\n\n\n*THANK YOU*\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}