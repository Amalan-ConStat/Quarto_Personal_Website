{
  "hash": "06f34f43a1aca28d2686414b43e2bc0d",
  "result": {
    "markdown": "---\ntitle: 'Week 13 : Pets In Seattle'\ndate: '2019-03-27'\ncategories:\n  - TidyTuesday\n  - 2019\nimage: featured.png\ndraft: false\nnumber-sections: false\nformat:\n  html:\n    fig-cap-location: bottom\nresources: \n  - \"featured.png\"\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nlibrary(tidyverse)\nlibrary(gganimate)\nlibrary(splitstackshape)\nlibrary(forcats)\nlibrary(ggthemr)\n\nggthemr(\"flat dark\")\nseattle_pets <- read_csv(\"seattle_pets.csv\")\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n{{% tweet \"1111090496372391937\" %}}\n```\n:::\n:::\n\n\n[GitHub Code](https://github.com/Amalan-ConStat/TidyTuesday/tree/master/2019/Week13)\n\n# Yearly Change \n\n## Zipcode Counts Over the Years\n\n\n::: {.cell}\n\n```{.r .cell-code}\np<-seattle_pets %>%\n   cSplit(\"license_issue_date\",sep = \" \") %>%\n   rename(Month =license_issue_date_1) %>%\n   rename(Day = license_issue_date_2) %>%\n   rename(Year = license_issue_date_3) %>%\n   select(zip_code,Year) %>%\n   group_by(Year) %>%\n   count(zip_code) %>%\n   remove_missing() %>%\n   subset(Year >=2010) %>%\n   top_n(25) %>%\nggplot(.,aes(x= fct_infreq(zip_code),y=n,fill=factor(Year)))+\n  geom_col()+transition_time(Year)+ease_aes(\"linear\") +\n  coord_flip()+xlab(\"Zip code\")+ylab(\" Count\")+\n  labs(fill=\"Year\")+\n  scale_y_continuous(breaks=seq(0,3000,250),labels = seq(0,3000,250))+\n  ggtitle(\"Zip Code Over the Years\",subtitle=\"Year : {frame_time}\")\n\nanimate(p,fps=1,nframes=7)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/ZC with Years-1.gif)\n:::\n:::\n\n\n## Species Counts Over the Years\n\n\n::: {.cell}\n\n```{.r .cell-code}\nseattle_pets %>%\n   cSplit(\"license_issue_date\",sep = \" \") %>%\n   rename(Month =license_issue_date_1) %>%\n   rename(Day = license_issue_date_2) %>%\n   rename(Year = license_issue_date_3) %>%\n   select(species,Year) %>%\n   subset(Year >=2016) %>%\n   group_by(Year) %>%\n   count(species) %>%\nggplot(.,aes(x= species,y=n,fill=factor(Year),label=n))+\n  geom_col()+geom_text()+\n  transition_states(Year,transition_length = 2,state_length = 2)+\n  enter_fade()+exit_shrink()+ease_aes(\"back-in\")+\n  xlab(\"Species\")+ylab(\"Count\")+ labs(fill=\"Year\")+\n  scale_y_continuous(breaks=seq(0,23000,1000),labels=seq(0,23000,1000))+\n  ggtitle(\"Species Over the Years\",subtitle = \"Year: {closest_state}\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Species with Years-1.gif)\n:::\n:::\n\n\n## Primary Breed Over the Years\n\n\n::: {.cell}\n\n```{.r .cell-code}\np<-seattle_pets %>%\n   cSplit(\"license_issue_date\",sep = \" \") %>%\n   rename(Month =license_issue_date_1) %>%\n   rename(Day = license_issue_date_2) %>%\n   rename(Year = license_issue_date_3) %>%\n   select(primary_breed,Year) %>%\n   group_by(Year) %>%\n   count(primary_breed) %>%\n   remove_missing() %>%\n   subset(Year >=2010) %>%\n   top_n(15) %>%\nggplot(.,aes(x= str_wrap(primary_breed,20),y=n,label=n,fill=factor(Year)))+\n  geom_col()+transition_time(Year)+ease_aes(\"linear\") +\n  coord_flip()+geom_text()+labs(fill=\"Year\")+\n  xlab(\"Primary Breed\")+ylab(\"Count\")+\n  scale_y_continuous(breaks=seq(0,6000,500),labels=seq(0,6000,500))+\n  ggtitle(\"Primary Breed Over the Years\",subtitle = \"Year : {frame_time}\")\n\nanimate(p,fps=1,nframes=8)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Primary Breed with Years-1.gif)\n:::\n:::\n\n\n## Animals Name Over the Years\n\n\n::: {.cell}\n\n```{.r .cell-code}\np<-seattle_pets %>%\n   cSplit(\"license_issue_date\",sep = \" \") %>%\n   rename(Month =license_issue_date_1) %>%\n   rename(Day = license_issue_date_2) %>%\n   rename(Year = license_issue_date_3) %>%\n   select(animals_name,Year) %>%\n   group_by(Year) %>%\n   count(animals_name) %>%\n   remove_missing() %>%\n   subset(Year >=2010) %>%\n   top_n(5) %>%\nggplot(.,aes(x= fct_infreq(animals_name),y=n,fill=factor(Year),label=n))+\n  geom_col()+transition_time(Year)+ease_aes(\"linear\") +\n  coord_flip()+geom_text()+labs(fill=\"Year\")+\n  xlab(\"Animals Name\")+ylab(\"Count\")+\n  scale_y_continuous(breaks = seq(0,275,25),labels=seq(0,275,25))+\n  ggtitle(\"Animales N ame Over the Years\",\n          subtitle = \"Year : {frame_time}\")\n\nanimate(p,fps=1,nframes=8)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Names with Years-1.gif)\n:::\n:::\n\n\n*THANK YOU*\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}