{
  "hash": "727fe79ec655ce5bed517fe547f9b352",
  "result": {
    "markdown": "---\ntitle: 'Week 23 : Ramen Ratings'\ndate: '2019-06-05'\ncategories:\n  - TidyTuesday\n  - 2019\nimage: featured.png\ndraft: false\nnumber-sections: false\nformat:\n  html:\n    fig-cap-location: bottom\nresources: \n  - \"featured.png\"\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings <- readr::read_csv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-06-04/ramen_ratings.csv\")\n\nlibrary(tidyverse)\nlibrary(gganimate)\nlibrary(ggthemes)\n```\n:::\n\n\nI have not posted regarding #TidyTuesday in a while, so here it is. It is all\nabout manipulating the dataset and generating necessary plots.\n\n\n[Data](https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-06-04)\n[GitHub Code](https://github.com/Amalan-ConStat/TidyTuesday/tree/master/2019/Week23)\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n{{% tweet \"1136303490978988033\" %}}\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  count(stars,sort = TRUE) %>%\nggplot(.,aes(fct_inorder(as_factor(stars)),n,label=n))+\n      geom_col(fill=blues9[5])+\n      geom_text(vjust=-0.5,color=blues9[9])+ylab(\"Count / Frequency\")+\n      xlab(\"Stars\")+ggtitle(\"Stars Distribution\")+\n      theme_economist()+\n      theme(axis.text.x = element_text(angle = 45))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Stars all-1.png){width=1152}\n:::\n:::\n\n\n## Brand versus Stars\n\n\n### Rating where stars is 4 or above 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars >=4)%>%\n  count(brand,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=fct_inorder(brand),y=n,label=n))+geom_col(fill=blues9[5])+\n      ylab(\"Count / Frequency\")+xlab(\"Brand\")+\n      geom_text(hjust=-0.5,color=blues9[9])+\n      ggtitle(\"Brands Distribution by Stars\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of 4 or above 4 for Brands-1.png){width=1152}\n:::\n:::\n\n\n### Rating where stars is below 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars < 2)%>%\n  count(brand,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=fct_inorder(brand),y=n,label=n))+geom_col(fill=blues9[5])+\n      ylab(\"Count / Frequency\")+xlab(\"Brand\")+\n      geom_text(hjust=-0.5,color=blues9[9])+\n      ggtitle(\"Brands Distribution by Stars\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of 2 or below 2 for Brands-1.png){width=1152}\n:::\n:::\n\n\n## Style versus Stars\n\n### Rating where stars is 4 or above 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars >=4)%>%\n  count(style,sort = TRUE) %>%\n  top_n(10) %>%\nggplot(.,aes(x=fct_inorder(style),y=n,label=n))+geom_col(fill=blues9[5])+\n      ylab(\"Count / Frequency\")+xlab(\"Style\")+\n      geom_text(hjust=-0.5,color=blues9[9])+\n      ggtitle(\"Styles Distribution by Stars\",\n              subtitle = \"Top 10\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of 4 or above 4 for Style-1.png){width=1152}\n:::\n:::\n\n\n\n### Rating where stars is below 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars < 2)%>%\n  count(style,sort = TRUE) %>%\n  top_n(5) %>%\nggplot(.,aes(x=fct_inorder(style),y=n,label=n))+geom_col(fill=blues9[5])+\n      ylab(\"Count / Frequency\")+xlab(\"Style\")+\n      geom_text(hjust=-0.5,color=blues9[9])+\n      ggtitle(\"Styles Distribution by Stars\",\n              subtitle = \"Top 5\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of 2 or below 2 for Style-1.png){width=1152}\n:::\n:::\n\n\n## Country versus Stars\n\n### Rating where stars is 4 or above 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars >=4)%>%\n  count(country,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=fct_inorder(country),y=n,label=n))+geom_col(fill=blues9[5])+\n      ylab(\"Count / Frequency\")+xlab(\"Country\")+\n      geom_text(hjust=-0.5,color=blues9[9])+\n      ggtitle(\"Countries Distribution by Stars\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of 4 or above 4 for Country-1.png){width=1152}\n:::\n:::\n\n\n### Rating where stars is below 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars < 2)%>%\n  count(country,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=fct_inorder(country),y=n,label=n))+geom_col(fill=blues9[5])+\n      ylab(\"Count / Frequency\")+xlab(\"Country\")+\n      geom_text(hjust=-0.5,color=blues9[9])+\n      ggtitle(\"Countries Distribution by Stars\",\n              subtitle = \"Top 20\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of below 2 for Country-1.png){width=1152}\n:::\n:::\n\n\n## Brand and Style versus Stars\n\n### Rating where stars is 4 or above 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars >=4)%>%\n  count(brand,style,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=fct_inorder(brand),y=n,label=n,fill=style))+\n      geom_col(position = \"dodge\")+\n      ylab(\"Count / Frequency\")+xlab(\"Brand\")+\n      geom_text(hjust=-0.25,color=blues9[9],\n                position = position_dodge(width = 1))+\n      ggtitle(\"Brand Distribution by Stars but for Styles\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of 4 or above 4 for Brand and Style-1.png){width=1152}\n:::\n:::\n\n\n### Rating where stars is below 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars <2)%>%\n  count(brand,style,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=fct_inorder(brand),y=n,label=n,fill=style))+\n      geom_col(position = \"dodge\")+\n      ylab(\"Count / Frequency\")+xlab(\"Brand\")+\n      geom_text(hjust=-0.25,color=blues9[9],\n                position = position_dodge(width = 1))+\n      ggtitle(\"Brand Distribution by Stars but for Styles\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of below 2 for Brand and Style-1.png){width=1152}\n:::\n:::\n\n\n## Brand and Country versus Stars\n\n### Rating where stars is 4 or above 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars >=4)%>%\n  count(brand,country,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=fct_inorder(brand),y=n,label=n,fill=country))+\n      geom_col(position = \"dodge\")+\n      ylab(\"Count / Frequency\")+xlab(\"Brand\")+\n      geom_text(hjust=-0.25,color=blues9[9],\n                position = position_dodge(width = 1))+\n      ggtitle(\"Brand Distribution by Stars but for Country\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of 4 or above 4 for Brand and Country-1.png){width=1152}\n:::\n:::\n\n\n### Rating where stars is below 2\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars <2)%>%\n  count(brand,country,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=fct_inorder(brand),y=n,label=n,fill=country))+\n      geom_col(position = \"dodge\")+\n      ylab(\"Count / Frequency\")+xlab(\"Brand\")+\n      geom_text(hjust=-0.25,color=blues9[9],\n                position = position_dodge(width = 1))+\n      ggtitle(\"Brand Distribution by Stars but for Country\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of below 2 for Brand and Country-1.png){width=1152}\n:::\n:::\n\n\n## Style and Country versus Stars\n\n### Rating where stars is 4 or above 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars >=4)%>%\n  count(style,country,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=fct_inorder(country),y=n,label=n,fill=style))+\n      geom_col(position = \"dodge\")+\n      ylab(\"Count / Frequency\")+xlab(\"Country\")+\n      geom_text(hjust=-0.25,color=blues9[9],\n                position = position_dodge(width = 1))+\n      ggtitle(\"Style Distribution by Stars but for Country\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of 4 or above 4 for Style and Country-1.png){width=1152}\n:::\n:::\n\n\n### Rating where stars is below 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars <2)%>%\n  count(style,country,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=fct_inorder(country),y=n,label=n,fill=style))+\n      geom_col(position = \"dodge\")+\n      ylab(\"Count / Frequency\")+xlab(\"Country\")+\n      geom_text(hjust=-0.25,color=blues9[9],\n                position = position_dodge(width = 1))+\n      ggtitle(\"Style Distribution by Stars but for Country\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of below 2 for Style and Country-1.png){width=1152}\n:::\n:::\n\n\n## Brand, Style and Country versus Stars\n\n### Rating where stars is 4 or above 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars >=4)%>%\n  count(brand,style,country,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=country,y=n,label=n,fill=style))+\n      geom_col(position = \"dodge\")+facet_wrap(~brand)+\n      ylab(\"Count / Frequency\")+xlab(\"Country\")+\n      geom_text(hjust=-0.05,color=blues9[9],size=3.5,\n                position = position_dodge(width = 1))+\n      ggtitle(\"Style Distribution by Stars but for Country\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of 4 or above 4 for Brand,Style and Country-1.png){width=1152}\n:::\n:::\n\n\n\n### Rating where stars is below 2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nramen_ratings %>%\n  subset(stars <2)%>%\n  count(brand,style,country,sort = TRUE) %>%\n  top_n(25) %>%\nggplot(.,aes(x=country,y=n,label=n,fill=style))+\n      geom_col(position = \"dodge\")+facet_wrap(~brand)+\n      ylab(\"Count / Frequency\")+xlab(\"Country\")+\n      geom_text(hjust=-0.05,color=blues9[9],size=3.5,\n                position = position_dodge(width = 1))+\n      ggtitle(\"Style Distribution by Stars but for Country\",\n              subtitle = \"Top 25\")+\n      theme_economist()+ coord_flip()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Rating stars of below 2 for Brand,Style and Country-1.png){width=1152}\n:::\n:::\n\n\n\n# Special Plot\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#summarytools::dfSummary(ramen_ratings)\n\nspe_plot<-ramen_ratings %>%\n          subset(brand==\"Nissin\" | brand==\"Nongshim\" |\n                 brand==\"Maruchan\" | brand==\"Myojo\" |\n                 brand==\"Samyang Foods\" | brand==\"Mama\"|\n                 brand==\"Paldo\" | brand==\"Indomie\"|\n                 brand==\"Ottogi\" | brand==\"Sapporo Ichiban\") %>%\n                 remove_missing() %>%\n          ggplot(.,aes(brand,as_factor(stars),color=style))+\n          geom_jitter()+theme_economist()+\n          xlab(\"Brand\")+ylab(\"Stars\")+\n          ggtitle(\"How Stars change for Brands\",subtitle=\"{closest_state}\")+\n          transition_states(country,transition_length = 1,state_length = 2)+\n          enter_fade()+exit_fade()\n\nanimate(spe_plot,nframes=44,fps=2)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Special Plot-1.gif)\n:::\n:::\n\n\n\n*THANK YOU*\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}