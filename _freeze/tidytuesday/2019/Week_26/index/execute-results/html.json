{
  "hash": "8af29936c49838b9d6478cbbdcfc4d10",
  "result": {
    "markdown": "---\ntitle: 'Week 26: Unidentified Flying Objects'\ndate: '2019-06-24'\ncategories:\n  - TidyTuesday\n  - 2019\nimage: featured.png\ndraft: false\nnumber-sections: false\nformat:\n  html:\n    fig-cap-location: bottom\nresources: \n  - \"featured.png\"\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nufo_sightings <- readr::read_csv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-06-25/ufo_sightings.csv\")\n\nlibrary(tidyverse)\nlibrary(gganimate)\nlibrary(ggthemes)\nlibrary(lubridate)\nlibrary(ggforce)\nlibrary(ggthemr)\n```\n:::\n\n\n[GitHub](https://github.com/Amalan-ConStat/TidyTuesday/tree/master/2019/Week26)\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n{{% tweet \"1143566481801850880\" %}}\n```\n:::\n:::\n\n\n# Timely changes for country and shape\n\n## Yearly count changes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nufo_sightings$date_time <- mdy_hm(ufo_sightings$date_time)\n\nufo_sightings %>%\n  mutate(year=year(date_time)) %>%\n  count(year) %>%\n  ggplot(.,aes(x=as.factor(year),y=n))+geom_col(fill=blues9[4])+\n         theme_minimal()+\n         theme(axis.text.x = element_text(angle = 90))+\n         geom_text(aes(label=n),hjust=-0.1,angle=90,color=blues9[9])+\n         xlab(\"Years\")+ylab(\"Frequency\")+\n         ggtitle(\"Yearly count changes\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Yearly count-1.png){width=1152}\n:::\n:::\n\n\n## Monthly count changes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nufo_sightings %>%\n  mutate(month=month(date_time)) %>%\n  count(month) %>%\n  ggplot(.,aes(x=as.factor(month),y=n))+geom_col(fill=blues9[4])+\n         theme_minimal()+\n         geom_text(aes(label=n),vjust=-0.1,color=blues9[9])+\n         xlab(\"Months\")+ylab(\"Frequency\")+\n         ggtitle(\"Monthly count changes\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Monthly count-1.png){width=1152}\n:::\n:::\n\n\n## Hourly count changes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nufo_sightings %>%\n  mutate(hour=hour(date_time)) %>%\n  count(hour) %>%\n  ggplot(.,aes(x=as.factor(hour),y=n))+geom_col(fill=blues9[4])+\n         theme_minimal()+\n         geom_text(aes(label=n),vjust=-0.1,color=blues9[9])+\n         xlab(\"Hours\")+ylab(\"Frequency\")+\n         ggtitle(\"Hourly count changes\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Hourly count-1.png){width=1152}\n:::\n:::\n\n\n## Yearly Count changes for Countries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nufo_sightings %>%\n   mutate(year=year(date_time)) %>%\n   mutate(country=recode_factor(country,\n                                \"au\"=\"Australia\",\n                                \"ca\"=\"Canada\",\n                                \"gb\"=\"Great Britain\",\n                                \"us\"=\"USA\")) %>%\n   group_by(year,country) %>%\n   remove_missing() %>%\n   count(country) %>%\n   ggplot(.,aes(x=as.factor(year),y=n))+geom_col(fill=blues9[8])+\n         theme_minimal()+\n         facet_wrap(~country,scales = \"free_y\",ncol = 1)+\n         theme(axis.text.x = element_text(angle = 90))+\n         xlab(\"Year\")+ylab(\"Frequency\")+\n         ggtitle(\"Yearly count changes for Nations\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Yearly but countries-1.png){width=1152}\n:::\n:::\n\n\n## Monthly Count changes for Countries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nufo_sightings %>%\n   mutate(month=month(date_time)) %>%\n   mutate(country=recode_factor(country,\n                                \"au\"=\"Australia\",\n                                \"ca\"=\"Canada\",\n                                \"gb\"=\"Great Britain\",\n                                \"us\"=\"USA\")) %>%\n   group_by(month,country) %>%\n   remove_missing() %>%\n   count(country) %>%\n   ggplot(.,aes(x=as.factor(month),y=n))+geom_col(fill=blues9[8])+\n         theme_minimal()+\n         facet_wrap(~country,scales = \"free_y\",ncol = 1)+\n         geom_text(aes(label=n),vjust=0.95,color=\"white\")+\n         xlab(\"Months\")+ylab(\"Frequency\")+\n         ggtitle(\"Monthly count changes for Nations\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Monthly but countries-1.png){width=1152}\n:::\n:::\n\n\n## Hourly Count changes for Countries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nufo_sightings %>%\n   mutate(hour=hour(date_time)) %>%\n   mutate(country=recode_factor(country,\n                                \"au\"=\"Australia\",\n                                \"ca\"=\"Canada\",\n                                \"gb\"=\"Great Britain\",\n                                \"us\"=\"USA\")) %>%\n   group_by(hour,country) %>%\n   remove_missing() %>%\n   count(country) %>%\n   ggplot(.,aes(x=as.factor(hour),y=n))+geom_col(fill=blues9[8])+\n         theme_minimal()+\n         facet_wrap(~country,scales = \"free_y\",ncol = 1)+\n         geom_text(aes(label=n),vjust=0.95,color=\"white\")+\n         xlab(\"Hours\")+ylab(\"Frequency\")+\n         ggtitle(\"Hours count changes for Nations\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Hourly but countries-1.png){width=1152}\n:::\n:::\n\n\n## Decade wise UFO shape changes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nufo_sightings_new<-ufo_sightings\n\nufo_sightings_new$year<-year(ufo_sightings_new$date_time)\n\nufo_sightings_new$year<-cut(ufo_sightings_new$year,\n                            breaks=c(1910,1919,1929,1939,\n                                     1949,1959,1969,1979,\n                                     1989,1999,2009,2015),\n                            labels=c(\"1910s\",\"1920s\",\"1930s\",\"1940s\",\n                                     \"1950s\",\"1960s\",\"1970s\",\"1980s\",\n                                     \"1990s\",\"2000s\",\"2010s\"))\n\nufo_sightings_new %>%\n  group_by(year,ufo_shape) %>%\n  count(ufo_shape) %>%\n  remove_missing() %>%\n  ggplot(.,aes(x=str_wrap(ufo_shape,10),y=n))+geom_col(fill=blues9[8])+\n         theme_minimal()+\n         theme(axis.text.x = element_text(angle = 90))+\n         geom_text(aes(label=n),hjust=-0.1,angle=90)+\n         scale_y_continuous(expand = c(0,1000))+\n         transition_states(year)+ease_aes(\"linear\")+\n         xlab(\"Shape\")+ylab(\"Frequency\")+\n         ggtitle(\"UFO shapes over the Years\",\n                 subtitle = \"Year:{closest_state}\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Yearly shapes but decades-1.gif)\n:::\n:::\n\n\n# Documented Year and Origin Year\n\n\n::: {.cell}\n\n```{.r .cell-code}\nufo_sightings %>%\n  mutate(o_year=year(date_time)) %>%\n  mutate(d_year=year(mdy(date_documented))) %>%\n  ggplot(.,aes(x=factor(o_year),y=factor(d_year)))+geom_jitter()+\n         coord_flip()+theme_minimal()+\n         ylab(\"Documented Year\")+xlab(\"Origin Year\")+\n         ggtitle(\"Documented Year vs Origin Year\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Years of documentation and origin-1.png){width=1152}\n:::\n:::\n\n\n# Year vs Encounter Length\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggthemr(\"flat\")\n\nufo_sightings %>%\n  mutate(year=year(date_time)) %>%\n  remove_missing() %>%\n  ggplot(.,aes(x=year,y=encounter_length,color=country))+geom_point()+\n         facet_zoom(y=encounter_length <1000000)+\n         xlab(\"Year\")+ylab(\"Encounter Length\")+\n         ggtitle(\"Encounter Length over the Years\",\n                 subtitle = \"Zoomed In for Encounter Length <1,000,000\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Year with Encounter Length-1.png){width=1152}\n:::\n\n```{.r .cell-code}\nufo_sightings %>%\n  subset(encounter_length <1000000) %>%\n  mutate(year=year(date_time)) %>%\n  remove_missing() %>%\n  ggplot(.,aes(x=year,y=encounter_length,color=country))+geom_point()+\n        facet_zoom(y=encounter_length <100000)+\n        xlab(\"Year\")+ylab(\"Encounter Length\")+\n        ggtitle(\"Encounter Length < 1,000,000 over the Years\",\n                subtitle = \"Zoomed In for Encounter Length <1,00,000\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Year with Encounter Length-2.png){width=1152}\n:::\n\n```{.r .cell-code}\nufo_sightings %>%\n  subset(encounter_length <100000) %>%\n  mutate(year=year(date_time)) %>%\n  remove_missing() %>%\n  ggplot(.,aes(x=year,y=encounter_length,color=country))+geom_point()+\n        facet_zoom(y=encounter_length <10000)+\n        xlab(\"Year\")+ylab(\"Encounter Length\")+\n        ggtitle(\"Encounter Length < 100,000 over the Years\",\n                subtitle = \"Zoomed In for Encounter Length <10,000\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Year with Encounter Length-3.png){width=1152}\n:::\n:::\n\n\n\n# Hour vs Encounter Length\n\n\n::: {.cell}\n\n```{.r .cell-code}\nufo_sightings %>%\n  mutate(hour=hour(date_time)) %>%\n  remove_missing() %>%\n  ggplot(.,aes(x=hour,y=encounter_length,color=country))+geom_jitter()+\n        facet_zoom(y=encounter_length <1000, x=hour >=20)+\n        xlab(\"Hour\")+ylab(\"Encounter Length\")+\n        ggtitle(\"Encounter Length over the Years\",\n                subtitle = \"Zoomed In for Encounter Length <1,000\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/Hour of origin vs Encounter Length-1.png){width=1152}\n:::\n:::\n\n\n**THANK YOU**\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}