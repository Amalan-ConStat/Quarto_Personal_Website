<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="dcterms.date" content="2019-01-29">
<title>Week 5: Dairy Products in USA â€“ Amalan Mahendran</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../img/favicon.png" rel="icon" type="image/png">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
</head>
<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../img/logo.png" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Amalan Mahendran</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../../publication/index.html"> 
<span class="menu-text">Publication and Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../posts/index.html"> 
<span class="menu-text">Blog Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../tidytuesday/index.html"> 
<span class="menu-text">#TidyTuesday</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../interests/index.html"> 
<span class="menu-text">Interests</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../cv/index.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-socials" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Socials</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-socials">
<li>
    <a class="dropdown-item" href="https://twitter.com/Amalan_Con_Stat"><i class="bi bi-hash" role="img">
</i> 
 <span class="dropdown-text">Twitter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://bsky.app/profile/amalanconstat.bsky.social"><i class="bi bi-twitter" role="img">
</i> 
 <span class="dropdown-text">BlueSky</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/Amalan-ConStat"><i class="bi bi-github" role="img">
</i> 
 <span class="dropdown-text">GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.linkedin.com/in/amalan-mahendran-72b86b37/"><i class="bi bi-linkedin" role="img">
</i> 
 <span class="dropdown-text">LinkedIn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://scholar.google.com/citations?user=fj4E-GMAAAAJ&amp;hl=en"><i class="bi bi-google" role="img">
</i> 
 <span class="dropdown-text">Google Scholar</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.researchgate.net/profile/Amalan_Mahendran"><i class="bi bi-r-square-fill" role="img">
</i> 
 <span class="dropdown-text">Researchgate</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://amalan-constat.r-universe.dev/builds"><i class="bi bi-box-fill" role="img">
</i> 
 <span class="dropdown-text">R Universe</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="mailto:mail.amalan0595@gmail.com"><i class="bi bi-mailbox" role="img">
</i> 
 <span class="dropdown-text">Email Me</span></a>
  </li>  
    </ul>
</li>
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Week 5: Dairy Products in USA</h1>
  <div class="quarto-categories">
    <div class="quarto-category">TidyTuesday</div>
    <div class="quarto-category">2019</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 29, 2019</p>
    </div>
  </div>
  
    
  </div>
  


</header><div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># load the packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">ggthemr</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org">readr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://gganimate.com">gganimate</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://usmap.dev">usmap</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load the data</span></span>
<span><span class="va">fluid_milk_sales</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"fluid_milk_sales.csv"</span><span class="op">)</span></span>
<span><span class="va">state_milk_production</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"state_milk_production.csv"</span><span class="op">)</span></span>
<span><span class="va">clean_cheese</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"clean_cheese.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load the theme</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ggthemr/man/ggthemr.html">ggthemr</a></span><span class="op">(</span><span class="st">"flat dark"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="introduction" class="level1"><h1>Introduction</h1>
<p>5 data-sets are given here, but I will be only discussing 3. They are Fluid Milk Sales, State Milk production and Clean Cheese. Clean Cheese has only few rows (48) and few columns (17). This is not the case in Fluid Milk Sales and State Milk production.</p>
<div class="cell">
<div class="cell-output-display">
{{% tweet "1090266660785729536" %}}
</div>
</div>
<p><a href="https://github.com/Amalan-ConStat/TidyTuesday/tree/master/2019/Week5">GitHub Code</a></p>
</section><section id="fluid-milk-sales" class="level1"><h1>Fluid Milk Sales</h1>
<p>Fluid Milk Sales has information for 9 different types of milk and how their Consumption in Pounds has changed over time from 1970 to 2017. We can see how Whole and Reduced Fat(2%) type milk are changing over the years with significant amount. Further, We can see how other types are changing from the initial order in 1970 of lower(Eggnog) amount to higher(Whole) amount in pounds over the years.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/attach.html">attach</a></span><span class="op">(</span><span class="va">fluid_milk_sales</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fluid_milk_sales</span><span class="op">$</span><span class="va">pounds</span><span class="op">&lt;-</span><span class="va">fluid_milk_sales</span><span class="op">$</span><span class="va">pounds</span><span class="op">/</span><span class="op">(</span><span class="fl">10</span><span class="op">^</span><span class="fl">7</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># how sales change over the years for 9 different types of milk</span></span>
<span><span class="va">p</span><span class="op">&lt;-</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">fluid_milk_sales</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu">fct_inorder</span><span class="op">(</span><span class="va">milk_type</span><span class="op">)</span> ,y<span class="op">=</span><span class="va">pounds</span>,fill<span class="op">=</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat<span class="op">=</span><span class="st">"identity"</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu">transition_time</span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">+</span><span class="fu">ease_aes</span><span class="op">(</span><span class="st">"linear"</span><span class="op">)</span><span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Milk Type"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Pounds (in 10^7)"</span><span class="op">)</span><span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Milk Type vs Pounds in year: {round(frame_time)}"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">animate</span><span class="op">(</span><span class="va">p</span>,nframes<span class="op">=</span><span class="fl">48</span>,fps<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/Fluid milk Sales-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="va">fluid_milk_sales</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="state-milk-production" class="level1"><h1>State Milk Production</h1>
<p>In the 48 years we are separating them by 24 years each for a plot. Using <a href="https://cran.r-project.org/web/packages/usmap/index.html">usmap</a> package I am going to plot it into their respective states in perspective of Milk Produced lbs in 10^6.</p>
<section id="us-states-and-milk-production-over-the-years" class="level2"><h2 class="anchored" data-anchor-id="us-states-and-milk-production-over-the-years">US States and Milk Production Over the Years</h2>
<p>In the first half of 1970 to 1993 we can see how a few states are having steady increase over the years.</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/attach.html">attach</a></span><span class="op">(</span><span class="va">state_milk_production</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># dividing the milk produced by 10^6</span></span>
<span><span class="co">#summary(state_milk_production$milk_produced)</span></span>
<span><span class="va">state_milk_production</span><span class="op">$</span><span class="va">milk_produced</span><span class="op">&lt;-</span><span class="va">state_milk_production</span><span class="op">$</span><span class="va">milk_produced</span><span class="op">/</span><span class="op">(</span><span class="fl">10</span><span class="op">^</span><span class="fl">6</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot in us map the milk produced by state for years 1970 to 1993</span></span>
<span><span class="fu">plot_usmap</span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">state_milk_production</span>,<span class="va">year</span> <span class="op">&lt;=</span><span class="st">"1993"</span><span class="op">)</span>,values <span class="op">=</span> <span class="st">"milk_produced"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>,ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Over the years Milk production changing in USA"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"left"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>fill<span class="op">=</span><span class="st">"lbs in 10^6"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/State Milk production Us Map-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
<p>This is similar to the next half which is from 1994 to 2017 as well. Similar increase occurs for the above same states as I see in the below plot. Well it is not very accurately described in the two plots for us to see.</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># plot in us map the milk produced by state for years 1994 to 2017</span></span>
<span><span class="fu">plot_usmap</span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">state_milk_production</span>,<span class="va">year</span> <span class="op">&gt;</span><span class="st">"1993"</span><span class="op">)</span>,values <span class="op">=</span> <span class="st">"milk_produced"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span>,ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Over the years Milk production changing in USA"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"left"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>fill<span class="op">=</span><span class="st">"lbs in 10^6"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/State Milk production Us Map 1-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
<p>To understand the above same change over the years clearly I have created a bar plot how the increase occurs. This plot also indicates how much change has occurred over the 48 years for each state who produces milk. Clearly the states California and Wisconsin have higher increase over the years, which is very strong. There are some states which have not produced more amount each year than their previous years.</p>
<p>The states Wyoming, Rhode island, Hawaii, Delaware and Alaska have very low amount of milk production over the years.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># over the years how milk production has changed for each year in a bar plot</span></span>
<span><span class="va">p</span><span class="op">&lt;-</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">state_milk_production</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">state</span>,y<span class="op">=</span><span class="va">milk_produced</span>,</span>
<span>                                    fill<span class="op">=</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>      <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat<span class="op">=</span><span class="st">"identity"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>      <span class="fu">transition_time</span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">+</span><span class="fu">ease_aes</span><span class="op">(</span><span class="st">"linear"</span><span class="op">)</span><span class="op">+</span><span class="fu">shadow_mark</span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>      <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"State"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Milk Produced (in 10^6)"</span><span class="op">)</span><span class="op">+</span></span>
<span>      <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"States vs Milk Produced in year: {round(frame_time)}"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">animate</span><span class="op">(</span><span class="va">p</span>,nframes <span class="op">=</span> <span class="fl">48</span>,fps<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/State Milk production over the years for states-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section><section id="summing-states-of-same-regions-over-the-years" class="level2"><h2 class="anchored" data-anchor-id="summing-states-of-same-regions-over-the-years">Summing States of Same Regions Over the Years</h2>
<p>There are 50 states but only 10 regions and not all regions have equal amount of states. Therefore I am going to sum up the milk production for all regions over the years and try to understand if there is any pattern.</p>
<p>In order to do this I have used the <a href="https://cran.r-project.org/web/packages/dplyr/index.html">dplyr</a> package and created a function which would sum up the production for each region of each year. Similarly, this function has the ability to get the average production for each region of each year as well.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># manipulating the data by sum and mean</span></span>
<span><span class="va">by_region_sum</span><span class="op">&lt;-</span><span class="kw">function</span><span class="op">(</span><span class="va">i</span>,<span class="va">ch_sum</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">ch_sum</span><span class="op">==</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">{</span></span>
<span>    <span class="co"># subsetting by summation over all years for each region</span></span>
<span>    <span class="va">temp</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">state_milk_production</span>,<span class="va">year</span><span class="op">==</span><span class="va">i</span>,select<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"region"</span>,<span class="st">"milk_produced"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>                  <span class="fu">group_by</span><span class="op">(</span><span class="va">region</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>                  <span class="fu">summarise_each</span><span class="op">(</span><span class="fu">funs</span><span class="op">(</span><span class="va">sum</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">output</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>year<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">i</span>,<span class="fl">10</span><span class="op">)</span>, region<span class="op">=</span><span class="va">temp</span><span class="op">$</span><span class="va">region</span>, milk_produced<span class="op">=</span><span class="va">temp</span><span class="op">$</span><span class="va">milk_produced</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="kw">else</span></span>
<span>  <span class="op">{</span></span>
<span>    <span class="co"># subsetting by Average over all years for each region    </span></span>
<span>    <span class="va">temp</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">state_milk_production</span>,<span class="va">year</span><span class="op">==</span><span class="va">i</span>,select<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"region"</span>,<span class="st">"milk_produced"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>                  <span class="fu">group_by</span><span class="op">(</span><span class="va">region</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>                  <span class="fu">summarise_each</span><span class="op">(</span><span class="fu">funs</span><span class="op">(</span><span class="va">mean</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>    <span class="va">output</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>year<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">i</span>,<span class="fl">10</span><span class="op">)</span>, region<span class="op">=</span><span class="va">temp</span><span class="op">$</span><span class="va">region</span>, milk_produced<span class="op">=</span><span class="va">temp</span><span class="op">$</span><span class="va">milk_produced</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Using the by_region_sum function I am now finding the sum as below.</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># subsetting by summation</span></span>
<span><span class="va">milk_region_data</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind.data.frame</a></span><span class="op">(</span><span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1970</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1971</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1972</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1973</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1974</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1975</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1976</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1977</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1978</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1979</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1980</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1981</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1982</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1983</span>,<span class="cn">T</span><span class="op">)</span>,                   </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1984</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1985</span>,<span class="cn">T</span><span class="op">)</span>,               </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1986</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1987</span>,<span class="cn">T</span><span class="op">)</span>,                 </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1988</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1989</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1990</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1991</span>,<span class="cn">T</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1992</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1993</span>,<span class="cn">T</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1994</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1995</span>,<span class="cn">T</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1996</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1997</span>,<span class="cn">T</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1998</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1999</span>,<span class="cn">T</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2000</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2001</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2002</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2003</span>,<span class="cn">T</span><span class="op">)</span>,   </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2004</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2005</span>,<span class="cn">T</span><span class="op">)</span>,                 </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2006</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2007</span>,<span class="cn">T</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2008</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2009</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2010</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2011</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2012</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2013</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2014</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2015</span>,<span class="cn">T</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2016</span>,<span class="cn">T</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2017</span>,<span class="cn">T</span><span class="op">)</span>                  </span>
<span>                                   <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If we consider the summation we can see clearly how centered and very limited variation is there for some regions such as Southeast, Northern Plains, Delta States, Corn Belt and Appalachian. There is some variation in the Northeast region. Clear and highest variation is in for Pacific, Mountain and Lake States regions.</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Region wise total milk production changing  over the year </span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">milk_region_data</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">region</span>,y<span class="op">=</span><span class="va">milk_produced</span>,color<span class="op">=</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Region"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Milk Produced (in 10^6)"</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Total Milk Produced by Year in All Regions"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/Summation by region for jitter-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Below is the same graph with points animated by year.</p>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Region wise total milk production changing  over the year animated</span></span>
<span><span class="va">p</span><span class="op">&lt;-</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">milk_region_data</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">region</span>,y<span class="op">=</span><span class="va">milk_produced</span>,color<span class="op">=</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Region"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Milk Produced (in 10^6)"</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Total Milk Produced for All Regions for Year: {frame_time}"</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu">transition_time</span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">+</span><span class="fu">ease_aes</span><span class="op">(</span><span class="st">"linear"</span><span class="op">)</span><span class="op">+</span><span class="fu">shadow_mark</span><span class="op">(</span><span class="op">)</span></span>
<span>        </span>
<span><span class="fu">animate</span><span class="op">(</span><span class="va">p</span>,nframes<span class="op">=</span><span class="fl">48</span>,fps<span class="op">=</span><span class="fl">1</span><span class="op">)</span>        </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/Summation by region for jitter by year animation-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section><section id="averaging-regions-considering-all-the-states-over-the-years" class="level2"><h2 class="anchored" data-anchor-id="averaging-regions-considering-all-the-states-over-the-years">Averaging Regions Considering All the States Over the Years</h2>
<p>If we consider the same approach but for the average of each region we can develop the same two plots. Here also we can see the same variation and centering for points for the same regions over the years.</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># subsetting by average</span></span>
<span><span class="va">milk_region_data_new</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind.data.frame</a></span><span class="op">(</span><span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1970</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1971</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1972</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1973</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1974</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1975</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1976</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1977</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1978</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1979</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1980</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1981</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1982</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1983</span>,<span class="cn">F</span><span class="op">)</span>,                   </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1984</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1985</span>,<span class="cn">F</span><span class="op">)</span>,               </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1986</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1987</span>,<span class="cn">F</span><span class="op">)</span>,                 </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1988</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1989</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1990</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1991</span>,<span class="cn">F</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1992</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1993</span>,<span class="cn">F</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1994</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1995</span>,<span class="cn">F</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1996</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1997</span>,<span class="cn">F</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1998</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">1999</span>,<span class="cn">F</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2000</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2001</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2002</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2003</span>,<span class="cn">F</span><span class="op">)</span>,   </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2004</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2005</span>,<span class="cn">F</span><span class="op">)</span>,                 </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2006</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2007</span>,<span class="cn">F</span><span class="op">)</span>, </span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2008</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2009</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2010</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2011</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2012</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2013</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2014</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2015</span>,<span class="cn">F</span><span class="op">)</span>,</span>
<span>                                   <span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2016</span>,<span class="cn">F</span><span class="op">)</span>,<span class="fu">by_region_sum</span><span class="op">(</span><span class="fl">2017</span>,<span class="cn">F</span><span class="op">)</span>                  </span>
<span>                                   <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Below is the plot for the average of regions over the years.</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Region wise average milk production changing  over the year </span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">milk_region_data_new</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">region</span>,y<span class="op">=</span><span class="va">milk_produced</span>,color<span class="op">=</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span> </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Region"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Milk Produced (in 10^6)"</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Average Milk Produced by Year in All Regions"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/average by region for jitter-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>The same plot is now animated for each year and all regions.</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Region wise average milk production changing  over the year animated</span></span>
<span><span class="va">p</span><span class="op">&lt;-</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">milk_region_data_new</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">region</span>,y<span class="op">=</span><span class="va">milk_produced</span>,color<span class="op">=</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu">transition_time</span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">+</span><span class="fu">ease_aes</span><span class="op">(</span><span class="st">"linear"</span><span class="op">)</span><span class="op">+</span> <span class="fu">shadow_mark</span><span class="op">(</span><span class="op">)</span><span class="op">+</span>       </span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Region"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Milk Produced (in 10^6)"</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Average Milk Produced for All Regions for Year: {frame_time}"</span><span class="op">)</span><span class="op">+</span></span>
<span>        <span class="fu">transition_time</span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">+</span><span class="fu">ease_aes</span><span class="op">(</span><span class="st">"linear"</span><span class="op">)</span></span>
<span>        </span>
<span><span class="fu">animate</span><span class="op">(</span><span class="va">p</span>,nframes<span class="op">=</span><span class="fl">48</span>,fps<span class="op">=</span><span class="fl">1</span><span class="op">)</span>        </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/average by region for jitter by year animation-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="va">state_milk_production</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section><section id="cheese" class="level1"><h1>Cheese</h1>
<p>16 types of cheese are provided in this clean cheese data-set. I will divide these types into 3 types and will not consider few types of cheese. The unit of measurement for the consumption is lbs per person.</p>
<section id="cheese-with-other" class="level2"><h2 class="anchored" data-anchor-id="cheese-with-other">Cheese with Other</h2>
<p>I am going to consider the types American Other, Italian Other and Swiss for this plot. Red color indicates to American Other, yellow color refers to Italian other and blue for Swiss. Alot of fluctuation for American other type, but this is not the case for Swiss type cheese. There is steady increase for the Italian other type cheese over the years. All of these are less than 4 lbs per person and it is animated.</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># 3 types of cheese change per person over the year in lbs</span></span>
<span><span class="va">p</span><span class="op">&lt;-</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">clean_cheese</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">Year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">+</span> </span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">`American Other`</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"red"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">`Italian other`</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"yellow"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">Swiss</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"blue"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu">transition_time</span><span class="op">(</span><span class="va">Year</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Year"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Consumption in lbs per person"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Cheese Consumption Over the Years"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu">ease_aes</span><span class="op">(</span><span class="st">"linear"</span><span class="op">)</span><span class="op">+</span><span class="fu">shadow_mark</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">animate</span><span class="op">(</span><span class="va">p</span>,nframes<span class="op">=</span><span class="fl">48</span>,fps<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/Cheese with other-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section><section id="cheese-with-total" class="level2"><h2 class="anchored" data-anchor-id="cheese-with-total">Cheese with Total</h2>
<p>This is also an animated plot but for the cheese types which has the word Total. They are Total American Cheese, Total Italian Cheese, Total Natural Cheese and Total Processed Cheese Products with the colors represented respectively red, yellow, blue and green.</p>
<p>All the Consumption units are in between 0 to 40 lbs per person. Clearly Total Natural Cheese has a steady amount of increase from 1970(slightly above 10) to 2017(approximately less than 40). Considering the other three types we can see it is not the same order that it is in 1970 over the years.</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># 4 types of cheese change per person over the year in lbs</span></span>
<span><span class="va">p</span><span class="op">&lt;-</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">clean_cheese</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">Year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">+</span> </span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">`Total American Chese`</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"red"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">`Total Italian Cheese`</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"yellow"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">`Total Natural Cheese`</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"blue"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">`Total Processed Cheese Products`</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"green"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Year"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Consumption in lbs per person"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>  </span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Cheese Consumption Over the Years"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu">transition_time</span><span class="op">(</span><span class="va">Year</span><span class="op">)</span><span class="op">+</span> </span>
<span>          <span class="fu">ease_aes</span><span class="op">(</span><span class="st">"linear"</span><span class="op">)</span><span class="op">+</span><span class="fu">shadow_mark</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">animate</span><span class="op">(</span><span class="va">p</span>,nframes<span class="op">=</span><span class="fl">48</span>,fps<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/Cheese with Total-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section><section id="cheese-with-known-type-names" class="level2"><h2 class="anchored" data-anchor-id="cheese-with-known-type-names">Cheese with known Type Names</h2>
<p>Next group of cheese types include Cheddar, Mozzarella, Brick, Processed Cheese and Foods &amp; spreads for the colors representing respectively red, yellow, blue, green and white. Clearly Cheddar and mozzarella type cheese are are mostly consumed by 2017 above 10 lbs per person, but this is not the case in 1970 where consumption is less than 6 lbs per person.</p>
<p>Well Processed Cheese and Foods &amp; Spreads have changed very small over the years. The consumption is always less than 6 lbs per person. This is not the case for Brick type cheese where the consumption is close to zero over the years from 1970 until 2017.</p>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># 5 types of cheese change per person over the year in lbs</span></span>
<span><span class="va">p</span><span class="op">&lt;-</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">clean_cheese</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">Year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">+</span> </span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">Cheddar</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"red"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">Mozzarella</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"yellow"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">`Brick`</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"blue"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">`Processed Cheese`</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"green"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y<span class="op">=</span><span class="va">`Foods and spreads`</span><span class="op">)</span>,stat<span class="op">=</span><span class="st">"identity"</span>,color<span class="op">=</span><span class="st">"white"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Year"</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">"Consumption in lbs per person"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Cheese Consumption Over the Years"</span><span class="op">)</span><span class="op">+</span></span>
<span>          <span class="fu">transition_time</span><span class="op">(</span><span class="va">Year</span><span class="op">)</span><span class="op">+</span> </span>
<span>          <span class="fu">ease_aes</span><span class="op">(</span><span class="st">"linear"</span><span class="op">)</span><span class="op">+</span><span class="fu">shadow_mark</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">animate</span><span class="op">(</span><span class="va">p</span>,nframes<span class="op">=</span><span class="fl">48</span>,fps<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="index_files/figure-html/Cheese with known-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><em>THANK YOU</em></p>


</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p><span class="faux-block">Â© 2023 Amalan CC BY-SA 4.0</span></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p><span class="faux-block"><a href="https://github.com/marvinschmitt/quarto-website-template/">View source on GitHub</a></span></p>
</div>
  </div>
</footer>


</body></html>